===========================================================
üöÄ GUIDE DE SURVIE - D√âPLOIEMENT DISTRIBU√â (MULTI-PC) üöÄ
===========================================================

√âtape 0 : Trouver l'IP du PC LEADER
-----------------------------------
Sur le PC qui aura Consul et Traefik (le Leader), tapez :
> ipconfig
Notez l'adresse IPv4 (ex: 192.168.1.10). On l'appellera "IP_LEADER".

-----------------------------------------------------------
üíª SUR LE PC LEADER (Consul + Traefik)
-----------------------------------------------------------

1. D√©marrer CONSUL :
   .\bin\consul.exe agent -server -bootstrap-expect=1 -node=leader -data-dir=consul-data -bind=IP_LEADER -client=0.0.0.0 -ui

2. D√©marrer TRAEFIK :
   .\bin\traefik.exe --providers.consulcatalog.endpoint.address=IP_LEADER:8500 --entrypoints.web.address=:80

3. TESTER (Important) :
   Ouvrez http://localhost:8500/ui -> Vous devez voir "leader".

-----------------------------------------------------------
üêá RABBITMQ & NOTIFICATIONS (PC 3)
---------------------------------------------------------
1. Cr√©er l'utilisateur sp√©cial (D√âBLOQUE TOUT) :
   > Ouvrez le 'RabbitMQ Command Prompt' et tapez :
   rabbitmqctl add_user micro micro
   rabbitmqctl set_user_tags micro administrator
   rabbitmqctl set_permissions -p / micro ".*" ".*" ".*"

2. Lancer le consommateur :
   $env:RABBITMQ_HOST="localhost"
   python manage.py run_consumer

---------------------------------------------------------
üêæ ADOPTION (PC 2)
---------------------------------------------------------
$env:CONSUL_HOST="192.168.239.72"      # IP PC 1
$env:RABBITMQ_HOST="192.168.239.253"  # IP PC 3
python manage.py runserver 0.0.0.0:8003x

Exemple pour Animals (PC 2) :
   $env:CONSUL_HOST="192.168.1.10"
   python manage.py runserver 0.0.0.0:8002

-----------------------------------------------------------
üíª SUR LES PC WORKERS (Microservices)
-----------------------------------------------------------
Pour CHAQUE service (Accounts, Animals, Adoption, Notifications) :

1. Configurer la cible (remplacez IP_LEADER) :
   $env:CONSUL_HOST="IP_LEADER"

2. Lancer le service sur toutes les interfaces :
   python manage.py runserver 0.0.0.0:800x

-----------------------------------------------------------
‚ö†Ô∏è SI √áA NE MARCHE PAS (D√âPANNAGE)
-----------------------------------------------------------
1. FIREWALL : D√©sactivez le pare-feu Windows sur le PC LEADER.
2. PING : Depuis un PC Worker, faites "ping IP_LEADER". Si √ßa √©choue, vous n'√™tes pas sur le m√™me r√©seau.
3. RABBITMQ : Si vous utilisez la messagerie, n'oubliez pas :
   $env:RABBITMQ_HOST="IP_DU_PC_QUI_A_RABBITMQ"
4. INTERFACE : L'utilisateur doit toujours taper l'IP du PC TRAEFIK :
   http://IP_LEADER/accounts/login/

===========================================================
BONNE CHANCE POUR L'EXAMEN ! üçÄ
===========================================================
